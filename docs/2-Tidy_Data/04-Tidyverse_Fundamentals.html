<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.543">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Math221 Notebook - Introducing the Tidyverse - Part 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Math221 Notebook</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-unit-1" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Unit 1</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-unit-1">    
        <li class="dropdown-header">Data Literacy</li>
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/1-Course_Introduction.html">
 <span class="dropdown-text">Course Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/2-Stat_Process.html">
 <span class="dropdown-text">The Statistical Process</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/3-Statistical_Process_Practice.html">
 <span class="dropdown-text">The Statistical Process</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/4-Installing_R.html">
 <span class="dropdown-text">Installing R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/5-Shape_and_Center.html">
 <span class="dropdown-text">Describing Quantitative Data (Shape &amp; Center)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/6-Spread.html">
 <span class="dropdown-text">Describing Quantitative Data (Spread)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/7-Introducing_R_Practice.html">
 <span class="dropdown-text">Introducing R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/8-Summarizing_Data_Multiple_Groups.html">
 <span class="dropdown-text">Summarizing Data Part 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/9-Summarizing_Data_Practice.html">
 <span class="dropdown-text">Summarizing Data Part 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/10-AA_Data_Summaries.html">
 <span class="dropdown-text">Summarizing Data AA</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-unit-2" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Unit 2</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-unit-2">    
        <li class="dropdown-header">Into the Tidyverse</li>
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/01-Wrangling_Basics.html">
 <span class="dropdown-text">Intro to Data Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/02-Filter.html">
 <span class="dropdown-text">filter()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/03-Select.html">
 <span class="dropdown-text">select()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/04-Tidyverse_Fundamentals.html">
 <span class="dropdown-text">Introducing the Tidyverse - Part 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href=".././2-Tidy_Data/05-Exploring_New_Data_With_Tidyverse.qmd">
 <span class="dropdown-text"></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/06-GGPlot_Intro.html">
 <span class="dropdown-text">Introducing GGPlot!</span></a>
  </li>  
        <li class="dropdown-header">Bonus Material</li>
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/Bonus_More_Tidy_Practice.html">
 <span class="dropdown-text">Level up your Tidy-ness</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/Bonus_Mutate.html">
 <span class="dropdown-text">mutate()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/Bonus_GroupBy_Summarise.html">
 <span class="dropdown-text">group_by() + summarise()</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-unit-3" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Unit 3</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-unit-3">    
        <li class="dropdown-header">Fundamentals of Statistics</li>
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/01-Intro_to_Probability.html">
 <span class="dropdown-text">Intro to Probability</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/02-The_Normal_Distribution_Textbook.html">
 <span class="dropdown-text">The Normal Distribution</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/03-Normal_Distribution_Workbook.html">
 <span class="dropdown-text">The Normal Distribution</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/04-Normal_Probability_Practice.html">
 <span class="dropdown-text">Normal Probability Homework</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/05-The_Central_Limit_Theorem.html">
 <span class="dropdown-text">The Distribution of Sample Means</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/06-Central_Limit_Theorem_Practice.html">
 <span class="dropdown-text">Central Limit Theorem</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/07-Prob_Calculations_for_Means.html">
 <span class="dropdown-text">Calculating Probabilities involving the Sample Mean</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/08-CLT_Normal_Prob_for_Means.html">
 <span class="dropdown-text">Normal Probability Calculations for Means</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/09-Prob_Calculations_for_Means_Practice.html">
 <span class="dropdown-text">Calculating Probabilities with Means</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../3-Stat_Fundamentals/10-Assessing_Normality.html">
 <span class="dropdown-text">Assessing Normality</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-unit-4" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Unit 4</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-unit-4">    
        <li class="dropdown-header">Statistical Tests - Part 1</li>
        <li>
    <a class="dropdown-item" href="../4-Statistical_Tests_Part1/01-Inference_for_mean_sigma_unknown.html">
 <span class="dropdown-text">Inference for a Mean - Sigma Unknown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../4-Statistical_Tests_Part1/02-AA_Hypothesis_Conf_Int.html">
 <span class="dropdown-text">Don’t Take it Personally</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../4-Statistical_Tests_Part1/03-Paired_ttest.html">
 <span class="dropdown-text">Paired T-test Class Notes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../4-Statistical_Tests_Part1/05-Independent_2_sample_ttest.html">
 <span class="dropdown-text">Independent Two-sample T-test</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../4-Statistical_Tests_Part1/07-ANOVA_Intro.html">
 <span class="dropdown-text">Analysis of Variance (ANOVA)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../4-Statistical_Tests_Part1/09-AA_Unit4_Review.html">
 <span class="dropdown-text">Comparing Means</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-unit-5" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Unit 5</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-unit-5">    
        <li class="dropdown-header">Statistical Tests - Part 2</li>
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/01-Bivariate_Data_Intro.html">
 <span class="dropdown-text">Introducing the Bivariate Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/02-Linear_Regression_Intro.html">
 <span class="dropdown-text">Simple Linear Regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/03-Regression_Practice.html">
 <span class="dropdown-text">Regression Practice</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/05-Distribution_of_Phat.html">
 <span class="dropdown-text">Sampling Distribution of P_hat</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/07-One_Sample_Proportion_Ztest.html">
 <span class="dropdown-text">One-sample Proportion Tests</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/09-Two_Sample_Proportion_Ztest.html">
 <span class="dropdown-text">Two-sample Proportion Tests</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/11-Chi_Square_Intro.html">
 <span class="dropdown-text">Chi-square Test of Independence</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../5-Statistical_Tests_Part2/13-AA_Who_Shot_First_Cat_Vars.html">
 <span class="dropdown-text">Who Shot First?</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-semester-project" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Semester Project</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-semester-project">    
        <li>
    <a class="dropdown-item" href="../6-Semester_Project/Importing_Data.html">
 <span class="dropdown-text">Downloading Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../6-Semester_Project/Semester_Project_Instructions.html">
 <span class="dropdown-text">Semester Project</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-r-help" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">R Help</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-r-help">    
        <li>
    <a class="dropdown-item" href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">
 <span class="dropdown-text">Tidyverse Cheat Sheet</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://r4ds.had.co.nz/transform.html">
 <span class="dropdown-text">R for Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../1-Data_Literacy/4-Installing_R.html">
 <span class="dropdown-text">Installing R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/06-GGPlot_Intro.html">
 <span class="dropdown-text">Introducing GGPlot!</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/01-Wrangling_Basics.html">
 <span class="dropdown-text">Intro to Data Wrangling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/02-Filter.html">
 <span class="dropdown-text">filter()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/03-Select.html">
 <span class="dropdown-text">select()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/Bonus_Mutate.html">
 <span class="dropdown-text">mutate()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../2-Tidy_Data/Bonus_GroupBy_Summarise.html">
 <span class="dropdown-text">group_by() + summarise()</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../6-Semester_Project/Importing_Data.html">
 <span class="dropdown-text">Downloading Data</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#cleaning-messy-data" id="toc-cleaning-messy-data" class="nav-link active" data-scroll-target="#cleaning-messy-data">Cleaning Messy Data</a></li>
  <li><a href="#the-tidyverse" id="toc-the-tidyverse" class="nav-link" data-scroll-target="#the-tidyverse">The Tidyverse</a>
  <ul class="collapse">
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources">Additional Resources</a></li>
  </ul></li>
  <li><a href="#fundamentals" id="toc-fundamentals" class="nav-link" data-scroll-target="#fundamentals">Fundamentals</a>
  <ul class="collapse">
  <li><a href="#logical-operators" id="toc-logical-operators" class="nav-link" data-scroll-target="#logical-operators">Logical Operators</a>
  <ul class="collapse">
  <li><a href="#quantitative-variables" id="toc-quantitative-variables" class="nav-link" data-scroll-target="#quantitative-variables">Quantitative Variables</a></li>
  <li><a href="#categorical-variables" id="toc-categorical-variables" class="nav-link" data-scroll-target="#categorical-variables">Categorical Variables</a></li>
  </ul></li>
  <li><a href="#ceci-nest-pas-une-pipe" id="toc-ceci-nest-pas-une-pipe" class="nav-link" data-scroll-target="#ceci-nest-pas-une-pipe">Ceci n’est pas une pipe</a></li>
  </ul></li>
  <li><a href="#basic-tidyverse-functions" id="toc-basic-tidyverse-functions" class="nav-link" data-scroll-target="#basic-tidyverse-functions">Basic Tidyverse Functions</a>
  <ul class="collapse">
  <li><a href="#removing-rows---filter" id="toc-removing-rows---filter" class="nav-link" data-scroll-target="#removing-rows---filter">Removing Rows - <code>filter()</code></a></li>
  <li><a href="#adding-columns---mutate" id="toc-adding-columns---mutate" class="nav-link" data-scroll-target="#adding-columns---mutate">Adding Columns - <code>mutate()</code></a></li>
  <li><a href="#selecting-columns---select" id="toc-selecting-columns---select" class="nav-link" data-scroll-target="#selecting-columns---select">Selecting Columns - <code>select()</code></a></li>
  <li><a href="#summarising-data---group_by-summarise" id="toc-summarising-data---group_by-summarise" class="nav-link" data-scroll-target="#summarising-data---group_by-summarise">Summarising Data - <code>group_by()</code> + <code>summarise()</code></a></li>
  </ul></li>
  <li><a href="#practice-together" id="toc-practice-together" class="nav-link" data-scroll-target="#practice-together">Practice Together</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your Turn</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introducing the Tidyverse - Part 1</h1>
<p class="subtitle lead">The Basics</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="cleaning-messy-data" class="level1">
<h1>Cleaning Messy Data</h1>
<p>In statistics classes, you are typically provided simple, clean datasets to load and analyze with ease. This is a terrible disservice to anyone who will deal with data outside of the classroom.</p>
<p>Anyone who works with data will have to do some data wrangling. Data wrangling is an appropriate description of cleaning, sorting, filtering, summarizing, transforming, and a whole host of other activities to make data usable for a specific purpose.</p>
<p>In this document, we introduce a moderately messy dataset and demonstrate basic programming commands to help us get data ready for analysis or visualization.</p>
</section>
<section id="the-tidyverse" class="level1">
<h1>The Tidyverse</h1>
<p>All semester, we have been loading a library called <code>tidyverse</code>. Tidyverse is a library of libraries that provides a vast array of tools and a syntax that make wrangling data as simple as possible.</p>
<p><strong>NOTE</strong>: Good scientists <strong>NEVER</strong> delete data from original records. The tidyverse allows us to create a new, clean dataset with a transparent set of steps from which we can create graphs and visualizations without losing any of the original data.</p>
<p>The <code>tidyverse</code> can be daunting to learn, but it is easier to demonstrate than to explain. We will work through several examples and have opportunities to practice.</p>
<section id="additional-resources" class="level2">
<h2 class="anchored" data-anchor-id="additional-resources">Additional Resources</h2>
<p>Below are 2 great resources for digging a little deeper into data manipulation in R.</p>
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">Tidyverse Cheat Sheet</a></p>
<p><a href="https://r4ds.had.co.nz/transform.html">R for Data Science</a></p>
<p>Next, we will explain a few programming fundamentals that will help make</p>
</section>
</section>
<section id="fundamentals" class="level1">
<h1>Fundamentals</h1>
<p>We will use a survey of high school students as our motivating example for cleaning data. Load the libraries and data in the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries and data</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaic)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">'https://github.com/byuistats/Math221D_Cannon/raw/master/Data/HighSchoolSeniors_subset.csv'</span>) <span class="sc">%&gt;%</span> <span class="fu">tibble</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="logical-operators" class="level2">
<h2 class="anchored" data-anchor-id="logical-operators">Logical Operators</h2>
<p>Logical operators are used extensively in computer programming to determine if a certain condition is met. They always return a “True” or a “False”, but we can treat them like a 0 for false and 1 for true.</p>
<p>We can tell a computer to determine a conditional statement (typically “less than”, “greater than” or “not equal to”) for specific variables, and it will return a <code>TRUE</code> if the statement is true and <code>FALSE</code> if not.</p>
<section id="quantitative-variables" class="level3">
<h3 class="anchored" data-anchor-id="quantitative-variables">Quantitative Variables</h3>
<p>Let’s examine the height_cm column in the survey data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">favstats</span>(survey<span class="sc">$</span>Height_cm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  min  Q1 median      Q3 max     mean       sd   n missing
 1.68 161    170 178.125 999 169.2412 53.54382 312       0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(survey<span class="sc">$</span>Height_cm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="04-Tidyverse_Fundamentals_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The maximum is 999 cm, which is around 33 Feet! We know this is not a possible value.</p>
<p>It is very unlikely that a high school student is taller than 7 feet. We can use a logical operator to see which students are taller than 7 feet (213.36 cm):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>survey<span class="sc">$</span>Height_cm <span class="sc">&gt;</span> <span class="fl">213.36</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE
 [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [97] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[109] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[121] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[133] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[145] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[157] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[169] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[181] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[193] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[205] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[217] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[229] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[241] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[253] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[265] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[277] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[289] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[301] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To illustrate, the below code puts the Survey column, Height_cm, along with the TRUE/FALSE logical</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">Height_cm =</span>survey<span class="sc">$</span>Height_cm, <span class="at">logical =</span> survey<span class="sc">$</span>Height_cm <span class="sc">&gt;</span> <span class="fl">213.36</span>)[<span class="dv">73</span><span class="sc">:</span><span class="dv">84</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Height_cm logical
73     162.0   FALSE
74     172.0   FALSE
75     160.0   FALSE
76     175.0   FALSE
77     182.8   FALSE
78     153.0   FALSE
79     184.0   FALSE
80     170.0   FALSE
81     150.0   FALSE
82     177.8   FALSE
83     999.0    TRUE
84     172.7   FALSE</code></pre>
</div>
</div>
<p>What does the above code return?</p>
<p>A list of <code>TRUE</code> and <code>FALSE</code> for every line of the data. It is as long as the number of rows in the dataset.</p>
</section>
<section id="categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="categorical-variables">Categorical Variables</h3>
<p>We can also use logical operators for categorical data. For example, if we wanted to see how many people are ambidextrous, we can run the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What are unique values in of the respondents?</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(survey<span class="sc">$</span>Handed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Left-Handed"  "Right-Handed" "Ambidextrous"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use a logical operator to get TRUE and FALSE for students who responded "Ambidextrous" on the survey question about handedness</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(survey<span class="sc">$</span>Handed <span class="sc">==</span> <span class="st">"Ambidextrous"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">Handed =</span> survey<span class="sc">$</span>Handed, <span class="at">logical =</span> survey<span class="sc">$</span>Handed <span class="sc">==</span> <span class="st">'Ambidextrous'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Handed logical
1    Left-Handed   FALSE
2   Right-Handed   FALSE
3   Right-Handed   FALSE
4   Right-Handed   FALSE
5    Left-Handed   FALSE
6   Right-Handed   FALSE
7   Ambidextrous    TRUE
8   Right-Handed   FALSE
9   Right-Handed   FALSE
10  Right-Handed   FALSE
11  Right-Handed   FALSE
12   Left-Handed   FALSE
13  Right-Handed   FALSE
14  Right-Handed   FALSE
15  Right-Handed   FALSE
16  Right-Handed   FALSE
17  Right-Handed   FALSE
18  Right-Handed   FALSE
19  Right-Handed   FALSE
20   Left-Handed   FALSE
21  Right-Handed   FALSE
22   Left-Handed   FALSE
23  Right-Handed   FALSE
24  Right-Handed   FALSE
25  Right-Handed   FALSE
26  Right-Handed   FALSE
27  Right-Handed   FALSE
28  Ambidextrous    TRUE
29  Right-Handed   FALSE
30  Right-Handed   FALSE
31  Right-Handed   FALSE
32  Right-Handed   FALSE
33  Right-Handed   FALSE
34  Right-Handed   FALSE
35   Left-Handed   FALSE
36  Right-Handed   FALSE
37  Right-Handed   FALSE
38   Left-Handed   FALSE
39  Right-Handed   FALSE
40  Right-Handed   FALSE
41  Right-Handed   FALSE
42  Right-Handed   FALSE
43  Right-Handed   FALSE
44  Right-Handed   FALSE
45  Right-Handed   FALSE
46  Right-Handed   FALSE
47  Right-Handed   FALSE
48  Ambidextrous    TRUE
49  Right-Handed   FALSE
50  Right-Handed   FALSE
51  Right-Handed   FALSE
52  Right-Handed   FALSE
53  Right-Handed   FALSE
54  Right-Handed   FALSE
55  Right-Handed   FALSE
56   Left-Handed   FALSE
57  Right-Handed   FALSE
58  Right-Handed   FALSE
59  Right-Handed   FALSE
60  Right-Handed   FALSE
61  Right-Handed   FALSE
62  Right-Handed   FALSE
63  Right-Handed   FALSE
64  Right-Handed   FALSE
65  Right-Handed   FALSE
66  Right-Handed   FALSE
67  Right-Handed   FALSE
68  Right-Handed   FALSE
69  Right-Handed   FALSE
70  Right-Handed   FALSE
71  Right-Handed   FALSE
72  Right-Handed   FALSE
73  Right-Handed   FALSE
74   Left-Handed   FALSE
75   Left-Handed   FALSE
76  Right-Handed   FALSE
77  Right-Handed   FALSE
78  Right-Handed   FALSE
79  Right-Handed   FALSE
80   Left-Handed   FALSE
81  Right-Handed   FALSE
82   Left-Handed   FALSE
83  Ambidextrous    TRUE
84  Right-Handed   FALSE
85  Right-Handed   FALSE
86   Left-Handed   FALSE
87  Right-Handed   FALSE
88  Right-Handed   FALSE
89   Left-Handed   FALSE
90  Right-Handed   FALSE
91   Left-Handed   FALSE
92  Right-Handed   FALSE
93  Right-Handed   FALSE
94  Right-Handed   FALSE
95  Right-Handed   FALSE
96  Right-Handed   FALSE
97  Right-Handed   FALSE
98  Right-Handed   FALSE
99  Right-Handed   FALSE
100 Right-Handed   FALSE
101 Right-Handed   FALSE
102 Right-Handed   FALSE
103 Right-Handed   FALSE
104 Right-Handed   FALSE
105 Right-Handed   FALSE
106 Right-Handed   FALSE
107 Right-Handed   FALSE
108 Right-Handed   FALSE
109 Right-Handed   FALSE
110 Right-Handed   FALSE
111 Right-Handed   FALSE
112 Right-Handed   FALSE
113 Right-Handed   FALSE
114 Right-Handed   FALSE
115 Right-Handed   FALSE
116 Right-Handed   FALSE
117 Right-Handed   FALSE
118 Right-Handed   FALSE
119 Right-Handed   FALSE
120 Right-Handed   FALSE
121 Right-Handed   FALSE
122 Right-Handed   FALSE
123 Right-Handed   FALSE
124 Right-Handed   FALSE
125 Right-Handed   FALSE
126 Right-Handed   FALSE
127 Right-Handed   FALSE
128 Right-Handed   FALSE
129 Right-Handed   FALSE
130 Right-Handed   FALSE
131  Left-Handed   FALSE
132 Right-Handed   FALSE
133 Right-Handed   FALSE
134 Right-Handed   FALSE
135 Right-Handed   FALSE
136 Right-Handed   FALSE
137 Right-Handed   FALSE
138 Right-Handed   FALSE
139 Right-Handed   FALSE
140 Right-Handed   FALSE
141 Right-Handed   FALSE
142 Right-Handed   FALSE
143 Ambidextrous    TRUE
144 Right-Handed   FALSE
145 Right-Handed   FALSE
146 Right-Handed   FALSE
147 Right-Handed   FALSE
148 Right-Handed   FALSE
149  Left-Handed   FALSE
150 Right-Handed   FALSE
151 Right-Handed   FALSE
152 Right-Handed   FALSE
153 Right-Handed   FALSE
154 Right-Handed   FALSE
155 Right-Handed   FALSE
156 Right-Handed   FALSE
157 Right-Handed   FALSE
158 Right-Handed   FALSE
159 Right-Handed   FALSE
160 Right-Handed   FALSE
161 Right-Handed   FALSE
162 Right-Handed   FALSE
163  Left-Handed   FALSE
164 Right-Handed   FALSE
165 Right-Handed   FALSE
166 Right-Handed   FALSE
167  Left-Handed   FALSE
168 Right-Handed   FALSE
169  Left-Handed   FALSE
170  Left-Handed   FALSE
171 Right-Handed   FALSE
172 Right-Handed   FALSE
173 Right-Handed   FALSE
174 Right-Handed   FALSE
175 Right-Handed   FALSE
176 Right-Handed   FALSE
177 Right-Handed   FALSE
178 Right-Handed   FALSE
179 Right-Handed   FALSE
180 Right-Handed   FALSE
181 Right-Handed   FALSE
182 Right-Handed   FALSE
183 Right-Handed   FALSE
184 Right-Handed   FALSE
185 Ambidextrous    TRUE
186 Right-Handed   FALSE
187 Right-Handed   FALSE
188 Right-Handed   FALSE
189 Right-Handed   FALSE
190 Right-Handed   FALSE
191 Right-Handed   FALSE
192 Right-Handed   FALSE
193 Right-Handed   FALSE
194 Right-Handed   FALSE
195 Right-Handed   FALSE
196 Right-Handed   FALSE
197 Right-Handed   FALSE
198 Right-Handed   FALSE
199 Right-Handed   FALSE
200 Right-Handed   FALSE
201 Right-Handed   FALSE
202 Right-Handed   FALSE
203 Right-Handed   FALSE
204 Right-Handed   FALSE
205 Right-Handed   FALSE
206  Left-Handed   FALSE
207 Ambidextrous    TRUE
208 Right-Handed   FALSE
209 Ambidextrous    TRUE
210 Right-Handed   FALSE
211 Right-Handed   FALSE
212 Right-Handed   FALSE
213 Right-Handed   FALSE
214 Right-Handed   FALSE
215 Right-Handed   FALSE
216 Right-Handed   FALSE
217 Right-Handed   FALSE
218 Right-Handed   FALSE
219 Right-Handed   FALSE
220 Right-Handed   FALSE
221 Right-Handed   FALSE
222 Right-Handed   FALSE
223 Right-Handed   FALSE
224  Left-Handed   FALSE
225  Left-Handed   FALSE
226 Right-Handed   FALSE
227 Right-Handed   FALSE
228 Right-Handed   FALSE
229 Right-Handed   FALSE
230 Right-Handed   FALSE
231 Right-Handed   FALSE
232 Right-Handed   FALSE
233 Right-Handed   FALSE
234 Right-Handed   FALSE
235 Right-Handed   FALSE
236  Left-Handed   FALSE
237 Right-Handed   FALSE
238  Left-Handed   FALSE
239 Right-Handed   FALSE
240  Left-Handed   FALSE
241 Right-Handed   FALSE
242 Right-Handed   FALSE
243 Right-Handed   FALSE
244  Left-Handed   FALSE
245 Right-Handed   FALSE
246 Right-Handed   FALSE
247 Right-Handed   FALSE
248 Right-Handed   FALSE
249 Right-Handed   FALSE
250 Right-Handed   FALSE
251  Left-Handed   FALSE
252 Right-Handed   FALSE
253 Right-Handed   FALSE
254 Right-Handed   FALSE
255 Right-Handed   FALSE
256 Right-Handed   FALSE
257 Right-Handed   FALSE
258 Right-Handed   FALSE
259 Right-Handed   FALSE
260 Right-Handed   FALSE
261 Right-Handed   FALSE
262 Right-Handed   FALSE
263 Right-Handed   FALSE
264 Right-Handed   FALSE
265 Right-Handed   FALSE
266 Right-Handed   FALSE
267 Right-Handed   FALSE
268 Right-Handed   FALSE
269 Right-Handed   FALSE
270 Right-Handed   FALSE
271 Right-Handed   FALSE
272 Right-Handed   FALSE
273 Right-Handed   FALSE
274 Right-Handed   FALSE
275 Right-Handed   FALSE
276  Left-Handed   FALSE
277 Right-Handed   FALSE
278 Right-Handed   FALSE
279 Right-Handed   FALSE
280  Left-Handed   FALSE
281 Right-Handed   FALSE
282 Right-Handed   FALSE
283 Right-Handed   FALSE
284 Right-Handed   FALSE
285  Left-Handed   FALSE
286 Right-Handed   FALSE
287 Right-Handed   FALSE
288 Ambidextrous    TRUE
289  Left-Handed   FALSE
290 Right-Handed   FALSE
291  Left-Handed   FALSE
292 Right-Handed   FALSE
293 Right-Handed   FALSE
294 Right-Handed   FALSE
295 Right-Handed   FALSE
296 Right-Handed   FALSE
297 Right-Handed   FALSE
298 Right-Handed   FALSE
299  Left-Handed   FALSE
300 Right-Handed   FALSE
301 Right-Handed   FALSE
302 Right-Handed   FALSE
303 Right-Handed   FALSE
304 Right-Handed   FALSE
305 Right-Handed   FALSE
306 Right-Handed   FALSE
307  Left-Handed   FALSE
308 Right-Handed   FALSE
309 Right-Handed   FALSE
310 Right-Handed   FALSE
311 Right-Handed   FALSE
312 Right-Handed   FALSE</code></pre>
</div>
</div>
<p>We will show you why this is useful when we introduce tidyverse functions.</p>
</section>
</section>
<section id="ceci-nest-pas-une-pipe" class="level2">
<h2 class="anchored" data-anchor-id="ceci-nest-pas-une-pipe">Ceci n’est pas une pipe</h2>
<p>The tidyverse organizes actions to data sequentially. We separate steps by what is called a “pipe” which is programmed <code>%&gt;%</code>.</p>
<p><strong>HINT</strong>: The shortkey for adding a “pipe” is <code>ctrl+shift+m</code> for Windows, and <code>cmd+shift+m</code> on Mac. Learn this because we use them a lot!</p>
</section>
</section>
<section id="basic-tidyverse-functions" class="level1">
<h1>Basic Tidyverse Functions</h1>
<p>The most frequently used actions used for wrangling data are:</p>
<ol type="1">
<li><strong>Filtering rows</strong> - eliminate rows based on certain criteria (logical operators)</li>
<li><strong>Selecting columns</strong> - narrow the dataset to the specific <em>columns</em> required for the analysis or visualization</li>
<li><strong>Creating new columns</strong> - create new columns based on the provided data. This could be as simple as changing a height from inches to centimeters.</li>
<li><strong>Summarizing data</strong> - create customized data summaries, often by specific groups</li>
</ol>
<p>You have already used <code>favstats()</code> to do (4) above, but we’ll learn how to do so with more flexibility with the tidyverse.</p>
<section id="removing-rows---filter" class="level2">
<h2 class="anchored" data-anchor-id="removing-rows---filter">Removing Rows - <code>filter()</code></h2>
<p>Logical operators are useful when removing rows from a dataset. The most common logical operators used to filter rows are:</p>
<ul>
<li><code>&lt;</code> and <code>&lt;=</code> means “less than” and “less than or equal to” respectively</li>
<li><code>&gt;</code> and <code>&gt;=</code> means “greater than” and “greater than or equal to” respectively</li>
<li><code>==</code> means “equal to” (NOTE: we use double equals because in most computer languages, a single <code>=</code> is an assignment operator. This avoids ambiguity)</li>
<li><code>!=</code> means “not equal to”; this one is useful if you want to eliminate one level of a variable</li>
<li><code>%in%</code> is useful for defining a list of levels that you want to include</li>
</ul>
<p>We typically begin with the raw dataset, then “pipe” that dataset into a sequence of functions using the “pipe” operator, <code>%&gt;%</code>.</p>
<p>Let’s begin by filtering out rows we think have legitimate heights:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 310 × 60
   Country Region DataYear ClassGrade Gender Ageyears Handed       Height_cm
   &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;      &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
 1 USA     FL         2022         12 Male         18 Left-Handed        182
 2 USA     IN         2022         12 Male         17 Right-Handed       190
 3 USA     GA         2022         12 Female       17 Right-Handed       172
 4 USA     NC         2022         11 Female       15 Right-Handed       163
 5 USA     CO         2022         12 Female       17 Left-Handed         51
 6 USA     MO         2022         11 Male         17 Right-Handed       181
 7 USA     NC         2022         11 Male         17 Ambidextrous       175
 8 USA     SC         2022         11 Female       18 Right-Handed       160
 9 USA     WA         2022         11 Female       16 Right-Handed       156
10 USA     WA         2022         12 Female       17 Right-Handed       169
# ℹ 300 more rows
# ℹ 52 more variables: Footlength_cm &lt;dbl&gt;, Armspan_cm &lt;dbl&gt;,
#   Languages_spoken &lt;dbl&gt;, Travel_to_School &lt;chr&gt;,
#   Travel_time_to_School &lt;int&gt;, Reaction_time &lt;dbl&gt;,
#   Score_in_memory_game &lt;dbl&gt;, Favourite_physical_activity &lt;chr&gt;,
#   Imprtance_reducing_pllutin &lt;int&gt;, Imprtance_recycling_rubbish &lt;int&gt;,
#   Imprtance_cnserving_water &lt;int&gt;, Imprtance_saving_energy &lt;int&gt;, …</code></pre>
</div>
</div>
<p>The above code will return a new dataset without the outliers.</p>
<p>How many rows does the original dataset have?</p>
<p>How many rows does the filtered dataset have?</p>
<p>Suppose for some reason, we only want to include right- or left-handed people (excluding ambidextrous). We can add multiple conditions in the <code>filter()</code> function separated by a comma:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(survey<span class="sc">$</span>Handed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Left-Handed"  "Right-Handed" "Ambidextrous"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 302 × 60
   Country Region DataYear ClassGrade Gender Ageyears Handed       Height_cm
   &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;      &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
 1 USA     FL         2022         12 Male         18 Left-Handed        182
 2 USA     IN         2022         12 Male         17 Right-Handed       190
 3 USA     GA         2022         12 Female       17 Right-Handed       172
 4 USA     NC         2022         11 Female       15 Right-Handed       163
 5 USA     CO         2022         12 Female       17 Left-Handed         51
 6 USA     MO         2022         11 Male         17 Right-Handed       181
 7 USA     SC         2022         11 Female       18 Right-Handed       160
 8 USA     WA         2022         11 Female       16 Right-Handed       156
 9 USA     WA         2022         12 Female       17 Right-Handed       169
10 USA     WA         2022         11 Male         18 Right-Handed       160
# ℹ 292 more rows
# ℹ 52 more variables: Footlength_cm &lt;dbl&gt;, Armspan_cm &lt;dbl&gt;,
#   Languages_spoken &lt;dbl&gt;, Travel_to_School &lt;chr&gt;,
#   Travel_time_to_School &lt;int&gt;, Reaction_time &lt;dbl&gt;,
#   Score_in_memory_game &lt;dbl&gt;, Favourite_physical_activity &lt;chr&gt;,
#   Imprtance_reducing_pllutin &lt;int&gt;, Imprtance_recycling_rubbish &lt;int&gt;,
#   Imprtance_cnserving_water &lt;int&gt;, Imprtance_saving_energy &lt;int&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Equivalently we can use %in% instead of the !=</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Left-Handed"</span>, <span class="st">"Right-Handed"</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>         Region <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MO"</span>, <span class="st">"FL"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 60
   Country Region DataYear ClassGrade Gender Ageyears Handed       Height_cm
   &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;      &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
 1 USA     FL         2022         12 Male         18 Left-Handed       182 
 2 USA     MO         2022         11 Male         17 Right-Handed      181 
 3 USA     MO         2022         11 Female       17 Right-Handed      151 
 4 USA     FL         2022         12 Female       18 Right-Handed      170 
 5 USA     FL         2022         12 Male         18 Right-Handed      180 
 6 USA     FL         2022         12 Female       18 Right-Handed      173.
 7 USA     FL         2022         12 Male         18 Right-Handed      175 
 8 USA     FL         2022         12 Male         17 Right-Handed      180 
 9 USA     MO         2022         11 Male         17 Right-Handed      164 
10 USA     FL         2022         12 Female       17 Right-Handed      166 
# ℹ 17 more rows
# ℹ 52 more variables: Footlength_cm &lt;dbl&gt;, Armspan_cm &lt;dbl&gt;,
#   Languages_spoken &lt;dbl&gt;, Travel_to_School &lt;chr&gt;,
#   Travel_time_to_School &lt;int&gt;, Reaction_time &lt;dbl&gt;,
#   Score_in_memory_game &lt;dbl&gt;, Favourite_physical_activity &lt;chr&gt;,
#   Imprtance_reducing_pllutin &lt;int&gt;, Imprtance_recycling_rubbish &lt;int&gt;,
#   Imprtance_cnserving_water &lt;int&gt;, Imprtance_saving_energy &lt;int&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>survey<span class="sc">$</span>Handed <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Left-Handed"</span>, <span class="st">"Right-Handed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
 [13]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
 [25]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
 [37]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE
 [49]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
 [61]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
 [73]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE
 [85]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
 [97]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[109]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[121]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[133]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE
[145]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[157]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[169]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[181]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[193]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[205]  TRUE  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[217]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[229]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[241]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[253]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[265]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[277]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE
[289]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
[301]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
</div>
</div>
<p>How many rows does our latest dataset have?</p>
</section>
<section id="adding-columns---mutate" class="level2">
<h2 class="anchored" data-anchor-id="adding-columns---mutate">Adding Columns - <code>mutate()</code></h2>
<p>The <code>mutate()</code> statement is used to add new columns to a dataset.</p>
<p>To create a new column, “pipe” the previous steps into the <code>mutate()</code> statement. Inside the parentheses, give the new column a name and set it equal to what you want that column to be.</p>
<p>EXAMPLE: Create a column of the ratio of Height to armspan called, ht_to_span, by using a <code>mutate()</code> statement:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">ht_in =</span> Height_cm <span class="sc">/</span> <span class="fl">2.54</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, ht_to_span, ht_in)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice we no longer have to use <code>$</code> to access specific columns! The tidyverse lives up to its name!</p>
</section>
<section id="selecting-columns---select" class="level2">
<h2 class="anchored" data-anchor-id="selecting-columns---select">Selecting Columns - <code>select()</code></h2>
<p>There are now over 60 columns in this dataset. Suppose we are only interested in reaction times and height-to-armspan ratio as they related to handedness. To tidy up the data even further, select only the columns we are interested in (Handed, Reaction_time, and ht_to_span):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 302 × 3
   Handed       Reaction_time ht_to_span
   &lt;chr&gt;                &lt;dbl&gt;      &lt;dbl&gt;
 1 Left-Handed          0.349      1.28 
 2 Right-Handed         0.358      0.990
 3 Right-Handed         0.447      1.03 
 4 Right-Handed         0.438      1.02 
 5 Left-Handed          0.542      0.981
 6 Right-Handed         0.428      0.968
 7 Right-Handed         0.427      1.01 
 8 Right-Handed         0.412      1.10 
 9 Right-Handed         0.346      1.04 
10 Right-Handed         0.391      1    
# ℹ 292 more rows</code></pre>
</div>
</div>
<p>See how much we can do in just a few short, sequential lines of code? Let’s name out clean dataset, <code>clean</code>, and create a boxplot of reaction times comparing left and right handed students:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(clean<span class="sc">$</span>Reaction_time <span class="sc">~</span> clean<span class="sc">$</span>Handed)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Modify the code to remove outliers in Reaction_time and remake the boxplot</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(clean<span class="sc">$</span>Reaction_time <span class="sc">~</span> clean<span class="sc">$</span>Handed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="04-Tidyverse_Fundamentals_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summarising-data---group_by-summarise" class="level2">
<h2 class="anchored" data-anchor-id="summarising-data---group_by-summarise">Summarising Data - <code>group_by()</code> + <code>summarise()</code></h2>
<p>The above data might be adequate for a visualization or analysis, but we can calculate summary statistics tables like we did with <code>favstats()</code> using the tidyverse.</p>
<p>The <code>summarise()</code> (or equivalently, <code>summarize()</code>) function is like the mutate statement. We create a name for the new column and set it equal to what we want.</p>
<p>Let’s name the new dataset, <code>clean</code>, and see how to make summaries using tidyverse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(survey<span class="sc">$</span>Reaction_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="04-Tidyverse_Fundamentals_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>, </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>, </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>         Reaction_time <span class="sc">&lt;</span> <span class="dv">1</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>         Armspan_cm <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>         ClassGrade <span class="sc">==</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(clean<span class="sc">$</span>Reaction_time <span class="sc">~</span> clean<span class="sc">$</span>Handed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="04-Tidyverse_Fundamentals_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>clean <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_react_time =</span> <span class="fu">mean</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">med_react_time =</span> <span class="fu">median</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_ratio =</span> <span class="fu">mean</span>(ht_to_span, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  mn_react_time med_react_time mn_ratio
          &lt;dbl&gt;          &lt;dbl&gt;    &lt;dbl&gt;
1         0.397          0.366     1.27</code></pre>
</div>
</div>
<p>Notice that the mn_ratio is <code>Inf</code>.</p>
<p>Why might that be the case?</p>
<p>Modify the code chunk to exclude rows where arm span is 0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>         Reaction_time <span class="sc">&lt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>clean <span class="sc">%&gt;%</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Mean Reaction Time</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">med_react_time =</span> <span class="fu">median</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_ratio =</span> <span class="fu">mean</span>(ht_to_span, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_react_time =</span> <span class="fu">min</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Mean Reaction Time</th>
<th style="text-align: right;">med_react_time</th>
<th style="text-align: right;">mn_ratio</th>
<th style="text-align: right;">min_react_time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.4205068</td>
<td style="text-align: right;">0.388</td>
<td style="text-align: right;">Inf</td>
<td style="text-align: right;">0.067</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">favstats</span>(clean<span class="sc">$</span>Reaction_time <span class="sc">~</span> clean<span class="sc">$</span>Handed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  clean$Handed   min      Q1 median      Q3   max      mean        sd   n
1  Left-Handed 0.274 0.34825 0.4415 0.53850 0.895 0.4741471 0.1691585  34
2 Right-Handed 0.067 0.33825 0.3845 0.44775 0.995 0.4134380 0.1302318 258
  missing
1       0
2       0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">favstats</span>(clean<span class="sc">$</span>ht_to_span)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    min        Q1   median       Q3 max mean  sd   n missing
 0.0168 0.9841579 1.006519 1.052681 Inf  Inf NaN 292       0</code></pre>
</div>
</div>
<p>If we want to get means for separate groups, we can add a <code>group_by()</code> statement to tell which variable(s) we want to group by:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>clean <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>         Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>         Reaction_time <span class="sc">&lt;</span> <span class="dv">1</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>         Armspan_cm <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>clean <span class="sc">%&gt;%</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Handed) <span class="sc">%&gt;%</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_react_time =</span> <span class="fu">mean</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">med_react_time =</span> <span class="fu">median</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_ratio =</span> <span class="fu">mean</span>(ht_to_span, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_react =</span> <span class="fu">max</span>(Reaction_time),</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>()</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 20%">
<col style="width: 22%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Handed</th>
<th style="text-align: right;">mn_react_time</th>
<th style="text-align: right;">med_react_time</th>
<th style="text-align: right;">mn_ratio</th>
<th style="text-align: right;">max_react</th>
<th style="text-align: right;">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Left-Handed</td>
<td style="text-align: right;">0.4741471</td>
<td style="text-align: right;">0.4415</td>
<td style="text-align: right;">1.266468</td>
<td style="text-align: right;">0.895</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="even">
<td style="text-align: left;">Right-Handed</td>
<td style="text-align: right;">0.4133891</td>
<td style="text-align: right;">0.3840</td>
<td style="text-align: right;">1.260190</td>
<td style="text-align: right;">0.995</td>
<td style="text-align: right;">257</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The <code>n()</code> is very useful for counting up the number of observations in each group.</p>
<p>If we were only interested in the summary statistics table, we can do everything in one series of steps:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>summary_stats_table <span class="ot">&lt;-</span>  survey <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    Height_cm <span class="sc">&lt;</span> <span class="dv">214</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    Handed <span class="sc">!=</span> <span class="st">"Ambidextrous"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    Reaction_time <span class="sc">&lt;</span> <span class="dv">1</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    Armspan_cm <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ht_to_span =</span> Height_cm <span class="sc">/</span> Armspan_cm) <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Handed, Reaction_time, ht_to_span) <span class="sc">%&gt;%</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Handed) <span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_react_time =</span> <span class="fu">mean</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">med_react_time =</span> <span class="fu">median</span>(Reaction_time, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_ratio =</span> <span class="fu">mean</span>(ht_to_span, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_react =</span> <span class="fu">max</span>(Reaction_time),</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>()</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>summary_stats_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 6
  Handed       mn_react_time med_react_time mn_ratio max_react count
  &lt;chr&gt;                &lt;dbl&gt;          &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;int&gt;
1 Left-Handed          0.474          0.442     1.27     0.895    34
2 Right-Handed         0.413          0.384     1.26     0.995   257</code></pre>
</div>
</div>
</section>
</section>
<section id="practice-together" class="level1">
<h1>Practice Together</h1>
<p>Suppose we want to see who gets more sleep on non-school nights, males or females whose chosen superpower is telepathy.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>telepaths <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Gender, Sleep_Hours_Non_Schoolnight, Superpower) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Superpower<span class="sc">==</span><span class="st">"Telepathy"</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(telepaths<span class="sc">$</span>Sleep_Hours_Non_Schoolnight <span class="sc">~</span> telepaths<span class="sc">$</span>Gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="04-Tidyverse_Fundamentals_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>telepaths <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mn_sleep_hours =</span> <span class="fu">mean</span>(Sleep_Hours_Non_Schoolnight)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Gender</th>
<th style="text-align: right;">mn_sleep_hours</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: right;">8.733333</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: right;">8.190476</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Also, create a column that is the ratio of sleep hours on non-school nights to 8. This calculates the percent of recommended sleep on non-school nights.</p>
<ol type="1">
<li><p>Create a dataset that includes columns Gender, Superpower, Sleep_Hours_Non-Schoolnight, and the ratio of non-schoolnight sleep hours divided by 8, for Males and Females who choose Telepathy as their superpower.</p></li>
<li><p>Create a summary table comparing males and females whose preferred super power is telepathy that includes:</p></li>
</ol>
<pre><code>a. Use `favstats()` to get the mean, median, standard deviation, and sample size of Sleep Hours on non-school nights 
b. Use `group_by()` to get the mean, median, standard deviation, and sample size of the percent of recommended sleep</code></pre>
<p><strong>HINT</strong>: Use the <code>unique()</code> function to see what the options are for a given categorical variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>telepaths2 <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sleep_ratio =</span> Sleep_Hours_Non_Schoolnight <span class="sc">/</span> <span class="dv">8</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Gender, Superpower, Sleep_Hours_Non_Schoolnight, sleep_ratio) <span class="sc">%&gt;%</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Superpower <span class="sc">==</span> <span class="st">"Telepathy"</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>telepaths2 <span class="sc">%&gt;%</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean_Ratio =</span> <span class="fu">mean</span>(sleep_ratio),</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Median_Ratio =</span> <span class="fu">median</span>(sleep_ratio),</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">SD_Ratio =</span> <span class="fu">sd</span>(sleep_ratio),</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Count =</span> <span class="fu">n</span>()</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  Gender Mean_Ratio Median_Ratio SD_Ratio Count
  &lt;chr&gt;       &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt; &lt;int&gt;
1 Female       1.09         1.12    0.235    60
2 Male         1.02         1.12    0.295    21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">favstats</span>(telepaths2<span class="sc">$</span>Sleep_Hours_Non_Schoolnight <span class="sc">~</span> telepaths2<span class="sc">$</span>Gender)[<span class="fu">c</span>(<span class="st">"mean"</span>, <span class="st">"median"</span>, <span class="st">'sd'</span>, <span class="st">'n'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      mean median       sd  n
1 8.733333      9 1.876407 60
2 8.190476      9 2.358369 21</code></pre>
</div>
</div>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn</h1>
<p>Use the above <code>tidyverse</code> functions to answer the following questions:</p>
<ol type="1">
<li>How many vegetarians say meat is their favorite food?</li>
</ol>
<p><strong>HINT</strong>: This can be done with a filter statement</p>
<ol start="2" type="1">
<li>Compare mean, median, and standard deviation of heights and the sample size between those who are vegetarian and those who aren’t.</li>
</ol>
<p>Be sure to filter out any major outliers in heights first.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(survey<span class="sc">$</span>Vegetarian)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No"  "Yes"</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Create a dataset that:
<ol type="a">
<li><p>Includes a column that is <em>percent of recommended sleep</em> (Sleep_Hours_Schoolnight divided by 8 using a mutate statement)</p></li>
<li><p>Includes only columns for Favourite_physical_activity, Reaction_time, percent_recommended_sleep (part a)</p></li>
<li><p>Includes only students whose favorite physical activity is Walking/Hiking, Basketball, Swimming, Soccer</p></li>
<li><p>Filters Reaction Times to be less than 1 second</p></li>
</ol></li>
</ol>
<p>Use the clean dataset to:</p>
<ol start="4" type="1">
<li><p>Create a side-by-side boxplot for the percent of recommended sleep for each favorite physical activity</p></li>
<li><p>Create a side-by-side boxplot for the reaction times for each favorite physical activity</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>